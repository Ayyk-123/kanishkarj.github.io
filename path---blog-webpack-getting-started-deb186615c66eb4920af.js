webpackJsonp([0xd3c465182e72],{313:function(n,s){n.exports={data:{site:{meta:{title:"kanishkarj.github.com",siteDescr:"Portfolio",siteUrl:"https://kanishkarj.github.com/",siteAuthor:"Kanishkar J",siteTwitterUrl:"https://twitter.com/_kanishkarj_",siteGithubUrl:"https://github.com/kanishkarj",siteEmailUrl:"kanishkarj@hotmail.com",siteGitconnectedUrl:"https://gitconnected.com/kanishkarj"}},markdownRemark:{id:"/home/sentinel/work/kanishkarj-gatsby-portfolio/src/pages/markdown/blog/29-1-2018-webpack-part1/webpack-start.md absPath of file >>> MarkdownRemark",html:'<h1>Webpack Configuration Part 1 : Getting started</h1>\n<p>In this blog post, we’ll configure a webpack project from scratch. I would recommend that you read the previous post <a href="www.google.com">Introduction to Webpack</a> if you haven’t already. The following is for Linux/Mac systems. It is expected that you have Node js and npm installed.</p>\n<h2>Creating the required folders</h2>\n<p>First we’ll create the required folders to save our files. Open the terminal, and execute the following commands in it :</p>\n<div class="gatsby-highlight">\n      <pre class="language-shell"><code>mkdir [folder-name] && cd [folder-name]\nmkdir src src/assets src/assets/fonts src/assets/js src/assets/media src/assets/scss</code></pre>\n      </div>\n<h2>Creating required files</h2>\n<p>Execute the following commands in the terminal :</p>\n<div class="gatsby-highlight">\n      <pre class="language-shell"><code>touch .babelrc .gitignore README.md webpack.common.js webpack.dev.js webpack.prod.js src/app.html src/assets/js/app.js src/assets/app.scss</code></pre>\n      </div>\n<h2>Initiating npm and git</h2>\n<p>Execute the following commands in the terminal :</p>\n<div class="gatsby-highlight">\n      <pre class="language-shell"><code>git init\nnpm init</code></pre>\n      </div>\n<h2>Installing webpack and dependencies</h2>\n<p>Lets now install webpack and other modules that we’ll need. Run the following command in the terminal :</p>\n<div class="gatsby-highlight">\n      <pre class="language-shell"><code>npm install -D webpack-dev-server webpack webpack-merge</code></pre>\n      </div>\n<p>It’s obvious why we installed webpack. but why the other two? webpack basically bundles all the modules and emits them into a file. but during development, we cannot afford to repetitively bundle the modules after every small change. This is where webpack-dev-server comes into play. this package sets up a development server with hot reloading and other cool features. Also if you noticed we have 3 webpack config files. webpack.common.js contains the common configurations. webpack.dev.js contains configurations specific to the development stage, and similarly webpack.prod.js for Production specific configurations. Now we have to import webpack.common.js in the other two files and merge their specific configurations with it. This is where the webpack-merge package comes into play, it merges the webpack configuration objects.</p>\n<h2>Writing npm scripts</h2>\n<p>Add the following scripts to the scripts section in the package.json :</p>\n<blockquote>\n<p>package.json</p>\n</blockquote>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>\n  <span class="token string">"start"</span><span class="token punctuation">:</span> <span class="token string">"webpack-dev-server --inline --hot --open --config webpack.dev.js"</span><span class="token punctuation">,</span>\n  <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"webpack --config webpack.common.js"</span><span class="token punctuation">,</span>\n  <span class="token string">"build:prod"</span><span class="token punctuation">:</span> <span class="token string">"webpack --config webpack.prod.js"</span>\n<span class="token punctuation">}</span><span class="token punctuation">,</span>\n</code></pre>\n      </div>\n<h2>Webpack Configuration</h2>\n<p>Now let’s started off with writing the configuration files. First, we define a constant object inside the webpack.common.js and export it :</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>\n  <span class="token comment">// Here goes the configuration</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> config<span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<h2>Defining the entry point</h2>\n<p>Let’s define the entry point for the application :</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>\n  entry<span class="token punctuation">:</span> <span class="token string">\'./src/app.js\'</span><span class="token punctuation">,</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<h2>Defining the output point</h2>\n<p>This is the path where the bundled files will be saved. we shall define the output point as an object with 2 attributes, path, and filename :</p>\n<ul>\n<li>path : Its the absolute path to the prefered output directory.</li>\n<li>filename : it determines the name of each output bundle.   </li>\n</ul>\n<p>Now, we cannot define path variable with a definite string. as it would change if the repository is copied to another directory or to another computer. Hence we use Node js path module which gives us the absolute path to the project root directory.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'path\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\n<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>\n  entry<span class="token punctuation">:</span> <span class="token string">\'./src/app.js\'</span><span class="token punctuation">,</span>\n  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'dist\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    filename<span class="token punctuation">:</span> <span class="token string">\'assets/js/bundle.js\'</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<p>Note that when configuring multiple output paths, you should use one of the following substitutions to give each bundle a unique name. One of which id entry name :</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>filename<span class="token punctuation">:</span> <span class="token string">"assets/js/[name].bundle.js"</span>\n</code></pre>\n      </div>\n<p>for other naming options <a href="https://webpack.js.org/configuration/output/#output-filename">https://webpack.js.org/configuration/output/#output-filename</a></p>\n<h2>Defining the context</h2>\n<p>Context refers to the base directory. it is an absolute path, for resolving entry points and loaders from the configuration. By default, the current directory is used, but it’s recommended to pass a value in your configuration. This makes your configuration independent from the current working directory.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>\n  context<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  <span class="token comment">// Rest of the configuration</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<h2>Configuring the development server</h2>\n<p>The dev server package sets up a local development server, hence you won’t be accessing the application using file path. Also if you look at the npm start script : <code>webpack-dev-server --inline --hot --open --config webpack.dev.js</code>. —hot enables hot-reloading which means the code will be bundled as soon as webpack notices changes in the files.</p>\n<p>The development configurations will be written in the webpack.dev.js file. first, we import webpack-merge and webpack.common.js, and the Node js path package.</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'path\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'webpack-merge\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'./webpack.common.js\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Now lets first write the configuration, then we’ll try to understand what it means :</p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code>module<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  devtool<span class="token punctuation">:</span> <span class="token string">\'inline-source-map\'</span><span class="token punctuation">,</span>\n  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./dist/assets/media"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    compress<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    port<span class="token punctuation">:</span> <span class="token number">8000</span><span class="token punctuation">,</span>\n    stats<span class="token punctuation">:</span> <span class="token string">\'errors-only\'</span><span class="token punctuation">,</span>\n    open<span class="token punctuation">:</span> <span class="token boolean">true</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<ul>\n<li><em>devtool</em> : It refers to the style of source mapping, its value can affect the build and rebuild speed dramatically. <a href="https://webpack.js.org/configuration/devtool/">to learn more</a></li>\n<li><em>devServer.contentBase</em> : It refers to the path from where all media/static files will be served. <a href="https://webpack.js.org/configuration/dev-server/#devserver-stats-">to learn more</a></li>\n<li><em>devServer.compress</em> : Enables gzip compression for everything served. <a href="https://webpack.js.org/configuration/dev-server/#devserver-compress">to learn more</a></li>\n<li><em>devServer.port</em> : The port no. you want your application to be deployed to. <a href="https://webpack.js.org/configuration/dev-server/#devserver-port">to learn more</a></li>\n<li><em>devServer.stats</em> : It lets you precisely control what bundle information gets displayed. <a href="https://webpack.js.org/configuration/dev-server/#devserver-stats-">to learn more</a></li>\n<li><em>devServer.open</em> : If set true, the sever opens the browser. <a href="https://webpack.js.org/configuration/dev-server/#devserver-open">to learn more</a></li>\n</ul>\n<p>So this is what we have so far :</p>\n<p><em>packages.json</em></p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token punctuation">{</span>\n  <span class="token string">"name"</span><span class="token punctuation">:</span> <span class="token string">"webpack-config"</span><span class="token punctuation">,</span>\n  <span class="token string">"version"</span><span class="token punctuation">:</span> <span class="token string">"1.0.0"</span><span class="token punctuation">,</span>\n  <span class="token string">"description"</span><span class="token punctuation">:</span> <span class="token string">""</span><span class="token punctuation">,</span>\n  <span class="token string">"main"</span><span class="token punctuation">:</span> <span class="token string">"webpack.common.js"</span><span class="token punctuation">,</span>\n  <span class="token string">"scripts"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    <span class="token string">"start"</span><span class="token punctuation">:</span> <span class="token string">"webpack-dev-server  --inline --hot --open --config webpack.dev.js"</span><span class="token punctuation">,</span>\n    <span class="token string">"build"</span><span class="token punctuation">:</span> <span class="token string">"webpack --config webpack.common.js"</span><span class="token punctuation">,</span>\n    <span class="token string">"build:prod"</span><span class="token punctuation">:</span> <span class="token string">"webpack --config webpack.prod.js"</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token string">"keywords"</span><span class="token punctuation">:</span> <span class="token punctuation">[</span>\n    <span class="token string">"webpack"</span>\n  <span class="token punctuation">]</span><span class="token punctuation">,</span>\n  <span class="token string">"author"</span><span class="token punctuation">:</span> <span class="token string">"kanishkarj"</span><span class="token punctuation">,</span>\n  <span class="token string">"license"</span><span class="token punctuation">:</span> <span class="token string">"MIT"</span><span class="token punctuation">,</span>\n  <span class="token string">"devDependencies"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    <span class="token string">"webpack"</span><span class="token punctuation">:</span> <span class="token string">"^3.10.0"</span><span class="token punctuation">,</span>\n    <span class="token string">"webpack-dev-server"</span><span class="token punctuation">:</span> <span class="token string">"^2.9.7"</span><span class="token punctuation">,</span>\n    <span class="token string">"webpack-merge"</span><span class="token punctuation">:</span> <span class="token string">"^4.1.1"</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  <span class="token string">"dependencies"</span><span class="token punctuation">:</span> <span class="token punctuation">{</span>\n\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span>\n</code></pre>\n      </div>\n<p><em>webpack.common.js</em></p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'path\'</span><span class="token punctuation">)</span>\n\n<span class="token keyword">const</span> config <span class="token operator">=</span> <span class="token punctuation">{</span>\n  context<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"src"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n  entry<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    app<span class="token punctuation">:</span> <span class="token string">\'./assets/js/app.js\'</span>\n  <span class="token punctuation">}</span><span class="token punctuation">,</span>\n  output<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    path<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">\'dist\'</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    filename<span class="token punctuation">:</span> <span class="token string">\'assets/js/[name].bundle.js\'</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">;</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> config<span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p><em>webpack.dev.js</em></p>\n<div class="gatsby-highlight">\n      <pre class="language-javascript"><code><span class="token keyword">const</span> path <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'path\'</span><span class="token punctuation">)</span>\n<span class="token keyword">const</span> merge <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'webpack-merge\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n<span class="token keyword">const</span> common <span class="token operator">=</span> <span class="token function">require</span><span class="token punctuation">(</span><span class="token string">\'./webpack.common.js\'</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n\nmodule<span class="token punctuation">.</span>exports <span class="token operator">=</span> <span class="token function">merge</span><span class="token punctuation">(</span>common<span class="token punctuation">,</span> <span class="token punctuation">{</span>\n  devtool<span class="token punctuation">:</span> <span class="token string">\'inline-source-map\'</span><span class="token punctuation">,</span>\n  devServer<span class="token punctuation">:</span> <span class="token punctuation">{</span>\n    contentBase<span class="token punctuation">:</span> path<span class="token punctuation">.</span><span class="token function">resolve</span><span class="token punctuation">(</span>__dirname<span class="token punctuation">,</span> <span class="token string">"./dist/assets/media"</span><span class="token punctuation">)</span><span class="token punctuation">,</span>\n    compress<span class="token punctuation">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>\n    port<span class="token punctuation">:</span> <span class="token number">8000</span><span class="token punctuation">,</span>\n    stats<span class="token punctuation">:</span> <span class="token string">\'errors-only\'</span><span class="token punctuation">,</span>\n    open<span class="token punctuation">:</span> <span class="token boolean">true</span>\n  <span class="token punctuation">}</span>\n<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>\n</code></pre>\n      </div>\n<p>Let’s test our Configuration. Open the terminal and navigate to the project directory and then execute <code>npm run start</code>. Everything should work fine. An instance of the browser will start saying “CANNOT GET /”, that is because we have not defined any HTML file. Now let’s move on and enable our configuration to load HTML files and to read ES6 using Babel.</p>',frontmatter:{path:"/blog/webpack-getting-started/",title:"Webpack Configuration Part 1 : Getting started",subtitle:"Getting started with configuring Webpack from scratch.",headerImg:"https://raw.githubusercontent.com/webpack/media/master/logo/logo-on-white-bg.png",date:"30 Jan, 2018"}}},pathContext:{}}}});
//# sourceMappingURL=path---blog-webpack-getting-started-deb186615c66eb4920af.js.map